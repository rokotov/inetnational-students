<div layout="column" layout-fill>
	<md-tabs flex>
		<md-tab label="Студенты">
			<md-tab-body >
				<div layout="row" layout-align="center center">
					<md-whiteframe class="md-whiteframe-z2 filter-whiteframe-context">
						<md-context>
							<div layout="row"  class="filter-context">
								<div flex="70" layout="row" layout-align="center start">
									<md-select ng-model="queryFaculty" placeholder="Выбрать факультет">
										<md-option ng-value="">Все факультеты</md-option>
										<md-option ng-value="faculty.facultyName" ng-repeat="faculty in faculties">{{ faculty.facultyName }}</md-option>
									</md-select>
									<md-select ng-model="querySpeciality" placeholder="Выбрать специальность">
										<md-option ng-value="">Все специальности</md-option>
										<md-option ng-value="speciality.specialityName" ng-repeat="speciality in specialities | filter:queryFaculty">{{ speciality.specialityName }}</md-option>
									</md-select>
									<md-select ng-model="queryGroup" placeholder="Выбрать группу">
										<md-option ng-value="">Все группы</md-option>
										<md-option ng-value="group.groupName" ng-repeat="group in groups | filter:querySpeciality">{{group.groupName}}</md-option>
									</md-select>
									<!--<md-select ng-model="queryCourse" placeholder="Выбрать курс">
                                        <md-option ng-value="course.courseName" ng-repeat="course in courses">{{ course.courseName }}</md-option>
                                    </md-select>-->
								</div>
								<div flex="20"layout="row" layout-align="center center">
									<md-input-container >
										<label>Имя или фамилия</label>
										<input ng-model="filterModel">
									</md-input-container>
								</div>
								<div flex="10"layout="row" layout-align="center center">
									<md-button class="md-fab md-mini md-primary" ng-click="showCreateStudentForm($event)" aria-label="Comment">
										<md-icon md-svg-src="img/icons/plus.svg"></md-icon>
									</md-button>
								</div>
							</div>
						</md-context>
					</md-whiteframe>
				</div>
				<div layout="row" layout-align="center center">
					<md-whiteframe class="md-whiteframe-z2 table-context">
						<md-content layout-padding class="data-context">
							<solo-table items-on-page = "15" make-sortable>
								<table id="dataStudentsBySpeciality" class="table table-striped table-bordered" >
									<thead>
									<tr>
										<th sort-by='lastName'>Фамилия Имя Отчество</th>
										<th sort-by='group.course.courseName' >Курс</th>
										<th sort-by='group.speciality.faculty.facultyName'>Факультет</th>
										<th sort-by='group.speciality.specialityName'>Специальность</th>
										<th sort-by='group.groupName'>Группа</th>
										<th></th>
									</tr>
									</thead>
									<tr ng-repeat="item in filtered = (original | filter:querySpeciality | filter:queryFaculty | filter:queryGroup | filterByFields:filterModel:['lastName', 'firstName'])" >
										<!--| -->
										<td>{{item.lastName}} {{item.firstName}} {{item.middleName}}</td>
										<td>{{item.group.course.courseName}}</td>
										<td>{{item.group.speciality.faculty.facultyName}}</td>
										<td>{{item.group.speciality.specialityName}}</td>
										<td>{{item.group.groupName}}</td>
										<td>
											<div flex="10" ng-show="hasRole('admin')">
												<md-button class="md-icon-button" ng-click="showCreateStudentForm($event)" aria-label="Comment">
													<md-icon md-svg-src="img/icons/pencil.svg"></md-icon>
													<md-tooltip md-direction="right">
														Изменить данные {{item.lastName}}
													</md-tooltip>
												</md-button>
											</div>
										<!--	<a href="#!/edit/{{item.id}}" class="btn btn-xs btn-default" ng-show="hasRole('admin')">
												<md-icon style="color: gray" md-svg-icon="img/icons/pencil.svg"></md-icon>
												<md-tooltip md-direction="right">
													Изменить данные {{item.lastName}}
												</md-tooltip>
											</a>-->
										</td>
									</tr>
								</table>
							</solo-table>
						</md-content>
					</md-whiteframe>
				</div>
				<div layout="row" layout-align="center" style="padding: 20px 0">
					<div flex="50">
						<label style="padding-top: 5px"> Студентов на странице </label>
						<input type="number" min="1" min="999999" placeholder="число" type="text" name="onpage" ng-model="len" ng-change="pager.setOnPage(len)" style="width: 120px; padding: 3px; margin: 3px;" class="ng-valid ng-dirty">
						<label style="padding-top: 5px"> или </label>
						<select  name="op" id="op" ng-model="op" ng-change="pager.setOnPage(op)" class="ng-valid ng-dirty" style="margin: 3px;">
							<option value="">выбрать</option>
							<option value="10">10</option>
							<option value="20">20</option>
							<option value="50">50</option>
							<option value="100">100</option>
							<option value="500">500</option>
							<option value="1000">1000</option>
						</select>
					</div>
					<div  flex="50">
						<a href="" ng-click="gotoFirstPage()">Первая страница | </a>
						<a href="" ng-click="gotoPrevPage()"> &larr;назад | </a>
						<a href="" ng-click="gotoNextPage()">вперед &rarr; | </a>
						<a href="" ng-click="gotoLastPage()">Последняя страница </a>
					</div>
				</div>
			</md-tab-body>
		</md-tab>
		<md-tab label="Группы">
			<md-tab-body>
				<div layout="row" layout-align="center center">
					<md-whiteframe class="md-whiteframe-z2 filter-whiteframe-context">
						<md-context>
							<div layout="row"  class="filter-context">
								<div flex="70" layout="row" layout-align="center start">
									<md-select ng-model="queryFaculty" placeholder="Выбрать факультет">
										<md-option ng-value="">Все факультеты</md-option>
										<md-option ng-value="faculty.facultyName" ng-repeat="faculty in faculties">{{ faculty.facultyName }}</md-option>
									</md-select>
									<md-select ng-model="querySpeciality" placeholder="Выбрать специальность">
										<md-option ng-value="">Все специальности</md-option>
										<md-option ng-value="speciality.specialityName" ng-repeat="speciality in specialities | filter:queryFaculty">{{ speciality.specialityName }}</md-option>
									</md-select>
									<md-select ng-model="queryCourse" placeholder="Выбрать группу">
										<md-option ng-value="">Все курсы</md-option>
										<md-option ng-value="course.courseName" ng-repeat="course in courses">{{course.courseName}}</md-option>
									</md-select>
								</div>
								<div layout="row" layout-align="center center">
									<md-button class="md-fab md-mini md-primary" ng-click="showCreateGroupForm($event)" aria-label="add">
										<md-icon md-svg-src="img/icons/plus.svg"></md-icon>
									</md-button>
								</div>
							</div>
						</md-context>
					</md-whiteframe>
				</div>
				<div layout="row" layout-align="center center">
					<md-whiteframe class="md-whiteframe-z2 table-context">
						<md-content layout-padding class="data-context">
							<table class="table table-striped table-bordered" >
								<thead>
								<tr>
									<th>Группа</th>
									<th>Курс</th>
									<th>Факультет</th>
									<th>Специальность</th>
									<th></th>
								</tr>
								</thead>
								<tr ng-repeat="item in (groups | filter:querySpeciality | filter:queryCourse)" >
									<td>{{item.groupName}}</td>
									<td>{{item.course.courseName}}</td>
									<td>{{item.speciality.faculty.facultyName}}</td>
									<td>{{item.speciality.specialityName}}</td>
									<td>
										<md-button class="md-icon-button" ng-click="showCreateGroupForm($event)" aria-label="Comment">
											<md-icon md-svg-src="img/icons/pencil.svg"></md-icon>
											<md-tooltip md-direction="right">
												Изменить группу {{item.groupName}}
											</md-tooltip>
										</md-button>
										<!--<a href="#!/editGroup/{{item.id}}" class="btn btn-xs btn-default" ng-show="hasRole('admin')">
											<md-icon style="color: gray" md-svg-icon="img/icons/pencil.svg"></md-icon>
											<md-tooltip md-direction="right">
												Изменить данные {{item.lastName}}
											</md-tooltip>
										</a>-->
									</td>
								</tr>
							</table>
						</md-content>
					</md-whiteframe>
				</div>
			</md-tab-body>
		</md-tab>
	</md-tabs>
</div>
